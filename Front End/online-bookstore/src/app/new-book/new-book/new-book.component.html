<p>new-book works!</p>




<div class="frame">
    <div class="fr">
        <div class="register-form">
            <h2 style="font-family: cursive;text-align: center;">Add New Book</h2>
            <br>
            <form [formGroup]="form">
                

                <div class="form-group">
                   
                    <label for="cover" style="font-family: cursive;">Insert Book Cover</label>
                    <button type="button"  class="addButton" (click)="fileInput.click()">+</button>
                    <input  type="file" style="display: none;"   id="photos" (change)="SelectFile($event)" #fileInput>
                    <img  *ngIf="imageLink" src={{imageLink}}  class="photo" ><br>
                </div>
                

                <div class="form-group">
                    <label for="category" style="font-family:cursive ;">Book Category</label>
                    <select  formControlName="category" id="category"  
                        [ngClass]="{ 'is-invalid': submitted && f['category'].errors }" class="drop">
                        <option  value="Geography">Geography</option>
                        <option  value="Science">Science</option>
                        <option  value="Religion">Religion</option>
                        <option  value="History">History</option>
                        <option  value="Art">Art</option>
                  </select>
              
                  <div *ngIf="submitted && f['category'].errors" class="error">
                    <div *ngIf="f['category'].errors['required']" >Book Category is required</div>
                  </div>
                </div>
                


               

                <div class="form-group" *ngIf="!edit">
                    <input type="text" formControlName="ISBN" placeholder="ISBN" class="form-control"
                                [ngClass]="{ 'is-invalid': submitted && f['ISBN'].errors }" />
                    <div *ngIf="submitted && f['ISBN'].errors" class="error" >
                        <div *ngIf="f['ISBN'].errors['required']">ISBN is required</div>
                        <div *ngIf="f['ISBN'].errors['minLength']">ISBN should be 13 digit</div>
                        <div *ngIf="f['ISBN'].errors['maxLength']">ISBN should be 13 digit</div>
                    </div>
                </div>

                <div class="form-group" *ngIf="edit">
                    <input type="text" formControlName="ISBN" value="{{editBook.isbn}}" class="form-control" readonly
                        [ngClass]="{ 'is-invalid': submitted && f['ISBN'].errors }"/>
                </div>
                    
  
    
                <div class="form-group" >
                    <input type="text" formControlName="title" placeholder="Book Title" class="form-control"
                                [ngClass]="{ 'is-invalid': submitted && f['title'].errors }" />
                    <div *ngIf="submitted && f['title'].errors" class="error" >
                        <div *ngIf="f['title'].errors['required']">Book title is required</div>
                    </div>
                </div>

                <div class="form-group">
                    <input type="text" placeholder="Book Publisher" formControlName="Publisher"  class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f['Publisher'].errors }"/>
                    <div *ngIf="submitted && f['Publisher'].errors" class="error">
                        <div *ngIf="f['Publisher'].errors['required']">Publisher name is required</div>
                    </div>
                </div>

                <div class="form-group">
                    <input type="number" min="1" max="2022" step="1" placeholder="Publication year" formControlName="publicationYear" 
                     class="form-control" [ngClass]="{ 'is-invalid': submitted && f['publicationYear'].errors }"/>
                    <div *ngIf="submitted && f['publicationYear'].errors" class="error">
                        <div *ngIf="f['publicationYear'].errors['required']">Publication year is required</div>
                    </div>
                </div>


                <div class="form-group">
                    <input type="number" placeholder="Book Price" formControlName="price" class="form-control" min="0"
                        [ngClass]="{ 'is-invalid': submitted && f['price'].errors }"/>
                    <div *ngIf="submitted && f['price'].errors" class="error">
                        <div *ngIf="f['price'].errors['required']">Book Price is required</div>
                    </div>
                </div>


                <div class="form-group">
                    <input type="number" placeholder="Stock" formControlName="minimumQuantity" class="form-control" min="0"
                        [ngClass]="{ 'is-invalid': submitted && f['minimumQuantity'].errors }"/>
                    <div *ngIf="submitted && f['minimumQuantity'].errors" class="error">
                        <div *ngIf="f['minimumQuantity'].errors['required']">Stock is required</div>
                    </div>
                </div>


                <div class="form-group">
                    <input type="number" placeholder="Threshold" formControlName="threshold" class="form-control" min="0"
                        [ngClass]="{ 'is-invalid': submitted && f['threshold'].errors }"/>
                    <div *ngIf="submitted && f['threshold'].errors" class="error">
                        <div *ngIf="f['threshold'].errors['required']">Threshold is required</div>
                    </div>
                </div>


                <br>
                <label style="font-family: cursive;">Add Book Authors</label>
                <button type="button" class="addButton" (click)="addvalue()">+</button>
                <div *ngFor="let value of values; let i = index"> 
                    <input type="text"  id="name_{{i}}" value="{{editBook.authors[i]}}" >
                </div>
                <div *ngIf="authorError" class="error">Enter Book Author(s)</div>
                 

               
   
  
                
    
                <div class="form-group">
                    <br>
                    <button *ngIf="edit" type="submit" (click)="onEdit()"class="button button1">Edit</button>
                    <button *ngIf="!edit" type="submit" (click)="onSubmit()"class="button button1">ADD</button>
                    <button type="button" (click)="onReset()"class="button button2" > Reset</button>
                </div>


                
               

            </form>
        </div>
    </div>
</div>